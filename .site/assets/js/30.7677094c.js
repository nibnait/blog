(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{451:function(s,a,t){"use strict";t.r(a);var e=t(65),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"使用-cloudreve-搭建个人网盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-cloudreve-搭建个人网盘"}},[s._v("#")]),s._v(" 使用 cloudreve 搭建个人网盘")]),s._v(" "),t("h2",{attrs:{id:"先看下云服务器内核"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先看下云服务器内核"}},[s._v("#")]),s._v(" 先看下云服务器内核")]),s._v(" "),t("blockquote",[t("p",[s._v("arch")])]),s._v(" "),t("p",[s._v("x86_64：代表 amd64"),t("br"),s._v("\naarch64：代表 arm64")]),s._v(" "),t("p",[s._v("下载地址: "),t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/cloudreve/Cloudreve/releases"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("下载到本地后，先把 gz 压缩包解压了。然后把文件传到服务器上")]),s._v(" "),t("blockquote",[t("p",[s._v("cd Downloads\nscp -P 123 -r cloudreve root@124.220.175.77:/www/wwwroot/cloudreve/cloudreve")])]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("登录到云服务器")]),s._v(" "),t("blockquote",[t("p",[s._v("cd /www/wwwroot\nchmod +x ./cloudreve\n./cloudreve")])]),s._v(" "),t("h2",{attrs:{id:"开放-5212-端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开放-5212-端口"}},[s._v("#")]),s._v(" 开放 5212 端口")]),s._v(" "),t("p",[s._v("用安装后 自动生成的账号密码 试用一下。")]),s._v(" "),t("h2",{attrs:{id:"反向代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[s._v("#")]),s._v(" 反向代理")]),s._v(" "),t("p",[s._v("网站 -> 先添加个站点 pan.tianbin.cc\n再添加个反向代理 代理到 124.220.175.77:5212")]),s._v(" "),t("h2",{attrs:{id:"将-cloudreve-变成图床"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将-cloudreve-变成图床"}},[s._v("#")]),s._v(" 将 cloudreve 变成图床")]),s._v(" "),t("p",[s._v("右上角 头像 -> 控制面板 -> 左边 存储策略 -> 右边 铅笔 图标 -> 专家模式编辑 -> 允许获取外链 -> 是。"),t("br"),s._v("\n后面分享图片，允许预览。即可拿到图片链接")]),s._v(" "),t("p",[s._v("控制面板 -> 参数设置 -> 站点信息 -> 站点URL: https://pan.tianbin.cc")]),s._v(" "),t("h2",{attrs:{id:"将-sqlite-替换成-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将-sqlite-替换成-mysql"}},[s._v("#")]),s._v(" 将 sqlite 替换成 mysql")]),s._v(" "),t("ul",[t("li",[s._v("软件商店 -> mysql 5.5.62, phpMyAdmin 5.0, php-7.4")]),s._v(" "),t("li",[s._v("数据库 -> 添加数据库。")]),s._v(" "),t("li",[s._v("文件 -> www/wwwroot/cloudreve")]),s._v(" "),t("li",[s._v("修改 conf.ini 文件")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("System"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nDebug "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\nMode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" master\nListen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" :5212\nSessionSecret "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rDdhhvlGzi7YaNHDndS8PNuXbBwJ1Nn34lBKdqfMxl0yKKh8NOJpCNLQQ5ONPdDJ\nHashIDSalt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CljwuxYHUA5ymw9gHKIdezHDu2YErHnqsItOcmdDHOgfcOTHVASFU6T3sXdBCsJs\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Database"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 数据库类型, 目前支持 sqlite "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql \nType "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 用户名 \nUser "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cloudreve\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 密码 \nPassword "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("数据库里 可以看到 root 密码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 数据库地址 \nHost "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 数据库名称 \nName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cloudreve\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 数据表前缀 \nTablePrefix "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cd_\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h2",{attrs:{id:"添加守护进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加守护进程"}},[s._v("#")]),s._v(" 添加守护进程")]),s._v(" "),t("p",[s._v("防止 pan.tianbin.cc 长时间未访问，自动关闭")]),s._v(" "),t("ul",[t("li",[s._v("软件商店 -> Supervisor管理器")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://tianbin.cc/img/mbp/tutorial/03-cloudreve-cloudreve-1.jpg",alt:"image.png"}})]),s._v(" "),t("p",[s._v("。启动。启动失败，可查看日志。")])])}),[],!1,null,null,null);a.default=r.exports}}]);